/**
* simpleUri v0.2.2
* Lightweight uri parsing and url manipulation library
*
* Copyright (c) 2013 Kiva Microfunds
* Licensed under the MIT license.
* https://github.com/kiva/simpleUri/blob/master/license.txt
*/
(function(r,e,t){"use strict";function a(e,o){var n;return 1===arguments.length&&e===!0&&(o=!0,e=t),e=e||window.location.href,n=a.parseUri(e,o),n._getParam=function(r,e){return e===t?n._param[r]:n._param[r][e]},n._setParam=function(e,t){var o,s,i=n._param[e],h="query"==e?"?":"#";return o=r.extend({},i,t),s=h+r.param(o),decodeURI(window.location.href)==n.href?a(s).reload():("query"==e?n.hash&&(s=s+"#"+n.hash):n.query&&(s="?"+n.query+s),a(this.protocol+"://"+n.host+n.path+s))},n._paramProcess=function(r,e){return e&&"string"!=typeof e?this._setParam(r,e):this._getParam(r,e)},n.param=function(e){if(e&&"string"!=typeof e&&!r.isArray(e))throw".param() can only be used as a getter.  Try .queryParam() or .hashParam()";return"string"==typeof e?n.hashParam(e)||n.queryParam(e):r.extend({},n.queryParam(e),n.hashParam(e))},n.hashParam=function(r){return n._paramProcess("hash",r)},n.queryParam=function(r){return n._paramProcess("query",r)},n.open=function(r,e){return window.open(n.href,r,e)},n.load=function(r){n.href===window.location.href?n.reload(r):window.location.assign(n.href)},n.reload=function(r){window.location.reload(r)},n.replace=function(){window.location.replace(n.href)},n.segment=function(r){return r===t?n._seg.path:(r=0>r?n._seg.path.length+r:r-1,n._seg.path[r])},n}a.parseString=function(r){var e,t,a,o=r.split(/&|;/),n={};if(!r)return n;for(e=0;o.length>e;++e)t=o[e].split("="),a=t.length,a>=2?n[t[0]]=decodeURIComponent(t[a-1].replace(/\+/g," ")):1==a&&(n[t[0]]="");return n},a.parseUri=function(r,e){e=e===t?this.config.strictMode:e,r=decodeURI(r);var o,n=e?"strict":"loose",s=this.config.parser[n].exec(r),i=this.config.uriParts,h={_param:{},_seg:{}};for(o=0;i.length>o;o++)h[i[o]]=s[o]||"";return h._param.query=this.parseString(h.query),h._param.hash=this.parseString(h.hash),h._seg.path=h.path.replace(/^\/+|\/+$/g,"").split("/"),a.base=a.host?(h.protocol?h.protocol+"://"+h.host:h.host)+(h.port?":"+h.port:""):"",h},a.config={uriParts:["href","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","hash"],strictMode:!1,parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},e.uri=a})(jQuery,this);