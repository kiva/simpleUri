/**
* simpleUri v0.2.3
* Lightweight uri parsing and url manipulation library
*
* Copyright (c) 2014 Kiva Microfunds
* Licensed under the MIT license.
* https://github.com/kiva/simpleUri/blob/master/license.txt
*/
define(function(a){function b(a,d){var e;return 1===arguments.length&&a===!0&&(d=!0,a=void 0),a=a||window.location.href,e=b.parseUri(a,d),e._getParam=function(a,b){return void 0===b?e._param[a]:e._param[a][b]},e._setParam=function(a,d){var f,g,h=e._param[a],i="query"==a?"?":"#";return f=c.extend({},h,d),g=i+c.param(f),decodeURI(window.location.href)==e.href?b(g).reload():("query"==a?e.hash&&(g=g+"#"+e.hash):e.query&&(g="?"+e.query+g),b(this.protocol+"://"+e.host+e.path+g))},e._paramProcess=function(a,b){return b&&"string"!=typeof b?this._setParam(a,b):this._getParam(a,b)},e.param=function(a){if(a&&"string"!=typeof a&&!c.isArray(a))throw".param() can only be used as a getter.  Try .queryParam() or .hashParam()";return"string"==typeof a?e.hashParam(a)||e.queryParam(a):c.extend({},e.queryParam(a),e.hashParam(a))},e.hashParam=function(a){return e._paramProcess("hash",a)},e.queryParam=function(a){return e._paramProcess("query",a)},e.open=function(a,b){return window.open(e.href,a,b)},e.load=function(a){e.href===window.location.href?e.reload(a):window.location.assign(e.href)},e.reload=function(a){window.location.reload(a)},e.replace=function(){window.location.replace(e.href)},e.segment=function(a){return void 0===a?e._seg.path:(a=0>a?e._seg.path.length+a:a-1,e._seg.path[a])},e}var c=a("jquery");return b._parseParam=function(a,b,c){var d,e=c[a];return b?(b=decodeURIComponent(b.replace(/\+/g," ")),"undefined"==typeof e?d=b:(e instanceof Array?e.push(b):(e=[e],e.push(b)),d=e)):a&&(d=""),d},b.parseString=function(a){var c,d,e=a.split(/&/),f={};if(!a)return f;for(c=0;c<e.length;++c)d=e[c].split("="),f[d[0]]=b._parseParam(d[0],d[1],f);return f},b.parseUri=function(a,c){c=void 0===c?this.config.strictMode:c,a=decodeURI(a);var d,e=c?"strict":"loose",f=this.config.parser[e].exec(a),g=this.config.uriParts,h={_param:{},_seg:{}};for(d=0;d<g.length;d++)h[g[d]]=f[d]||"";return h._param.query=this.parseString(h.query),h._param.hash=this.parseString(h.hash),h._seg.path=h.path.replace(/^\/+|\/+$/g,"").split("/"),b.base=b.host?(h.protocol?h.protocol+"://"+h.host:h.host)+(h.port?":"+h.port:""):"",h},b.config={uriParts:["href","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","hash"],strictMode:!1,parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},b});